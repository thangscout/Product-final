(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(75)},50:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),o=(a(50),a(1)),s=a(2),i=a(4),u=a(3),m=a(5),d=a(9),p=a(27),g=a(22),h=function(e){var t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(g.a,{to:{pathname:"/login"}})}}))},E=function(e){var t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}}))},f=function(e){return e=e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})},b=a(17),v=a.n(b),y=a(20),O=a(7),N=a(10),_=a.n(N),C="http://localhost:5000",P=a(21),R=a(44),j=a(6),D={user:void 0,token:"",submittingLogin:!1,messageError:null,requestingRegister:!1,isUser:void 0};var I=a(23),T={listCategories:[],requestingAddCategory:!1,requestingRemoveCategory:"",infoCategoryPrepareUpdate:void 0,requestingGetInfoCategory:"",updatingInfo:!1};var U={listProduct:[],listCategories:[],requestingAddProduct:!1,requestingRemoveProduct:"",infoProductPrepareUpdate:void 0,requestingGetInfoProduct:"",updatingInfo:!1};var S={carts:[],totalPrice:0,totalAmount:0};var A=Object(P.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESSED":return{token:t.payload.token,isUser:t.payload.isUser};case"LOGIN_REQUEST":return Object(j.a)({},e,{submittingLogin:!0});case"LOGIN_ERROR":return Object(j.a)({},e,{submittingLogin:!1,messageError:t.payload.message});case"CLEAR_TOKEN":return{};case"REGISTER":return Object(j.a)({},e,{user:t.payload});case"REGISTER_REQUESTING":return Object(j.a)({},e,{requestingRegister:!0});case"REGISTER_ERROR":return Object(j.a)({},e,{requestingRegister:!1,messageError:t.payload.message});case"REGISTER_DONE":return Object(j.a)({},e,{requestingRegister:!1});case"UPDATE_USER":return Object(j.a)({},e,{isUser:t.payload.user});case"UPDATE_USER_REQUESTING":return Object(j.a)({},e,{updatingInfo:!0});case"UPDATE_USER_DONE":return Object(j.a)({},e,{updatingInfo:!1});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(j.a)({},e,{listCategories:t.payload});case"ADD_CATEGORY":return Object(j.a)({},e,{listCategories:[].concat(Object(I.a)(e.listCategories),[t.payload])});case"ADD_CATEGORY_REQUESTING":return Object(j.a)({},e,{requestingAddCategory:!0});case"ADD_CATEGORY_DONE":return Object(j.a)({},e,{requestingAddCategory:!1});case"REMOVE_CATEGORY":return Object(j.a)({},e,{listCategories:e.listCategories.filter(function(e){return!Object.is(e._id,t.payload.categoryID)})});case"REMOVE_CATEGORY_REQUESTING":return Object(j.a)({},e,{requestingRemoveCategory:t.payload.categoryID});case"REMOVE_CATEGORY_DONE":return Object(j.a)({},e,{requestingRemoveCategory:""});case"GET_INFO_CATEGORY":return Object(j.a)({},e,{infoCategoryPrepareUpdate:t.payload.category});case"GET_INFO_CATEGORY_REQUESTING":return Object(j.a)({},e,{requestingGetInfoCategory:t.payload.categoryID});case"GET_INFO_CATEGORY_DONE":return Object(j.a)({},e,{requestingGetInfoCategory:""});case"UPDATE_CATEGORY":var a=t.payload.category,n=a._id,r=a.title,c=a.description,l=e.listCategories.map(function(e){return e._id!==n?e:Object(j.a)({},e,{title:r,description:c})});return Object(j.a)({},e,{listCategories:l});case"UPDATE_CATEGORY_REQUESTING":return Object(j.a)({},e,{updatingInfo:!0});case"UPDATE_CATEGORY_DONE":return Object(j.a)({},e,{updatingInfo:!1});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(j.a)({},e,{listProduct:t.payload.products,listCategories:t.payload.categories});case"ADD_PRODUCT":return Object(j.a)({},e,{listProduct:[].concat(Object(I.a)(e.listProduct),[t.payload])});case"ADD_PRODUCT_REQUESTING":return Object(j.a)({},e,{requestingAddProduct:!0});case"ADD_PRODUCT_DONE":return Object(j.a)({},e,{requestingAddProduct:!1});case"REMOVE_PRODUCT":return Object(j.a)({},e,{listProduct:e.listProduct.filter(function(e){return!Object.is(e._id,t.payload.productID)})});case"REMOVE_PRODUCT_REQUESTING":return Object(j.a)({},e,{requestingRemoveProduct:t.payload.productID});case"REMOVE_PRODUCT_DONE":return Object(j.a)({},e,{requestingRemoveProduct:""});case"GET_INFO_PRODUCT":return Object(j.a)({},e,{infoProductPrepareUpdate:t.payload.product});case"GET_INFO_PRODUCT_REQUESTING":return Object(j.a)({},e,{requestingGetInfoProduct:t.payload.productID});case"GET_INFO_PRODUCT_DONE":return Object(j.a)({},e,{requestingGetInfoProduct:""});case"UPDATE_PRODUCT":var a=t.payload.product,n=a._id,r=a.title,c=a.description,l=a.price,o=a.categoryID,s=a.image,i=e.listProduct.map(function(e){return e._id!==n?e:Object(j.a)({},e,{title:r,description:c,price:l,categoryID:o,image:s})});return Object(j.a)({},e,{listProduct:i});case"UPDATE_PRODUCT_REQUESTING":return Object(j.a)({},e,{updatingInfo:!0});case"UPDATE_PRODUCT_DONE":return Object(j.a)({},e,{updatingInfo:!1});default:return e}},carts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CART":var a=t.payload,n=a.product,r=a.quantity,c=e.carts.find(function(e){return Object.is(e.product._id,n._id)});if(c){var l=Object(j.a)({},c,{quantity:parseInt(c.quantity)+parseInt(r)}),o=e.carts.filter(function(e){return!Object.is(e.product._id,n._id)}),s=[].concat(Object(I.a)(o),[l]),i=s.reduce(function(e,t){var a=t.quantity,n=t.product.price,r=e.totalPrice,c=e.totalAmount;return{totalPrice:r+parseInt(a)*n,totalAmount:parseInt(a)+c}},{totalPrice:0,totalAmount:0});return{carts:s,totalPrice:i.totalPrice,totalAmount:i.totalAmount}}var u=[].concat(Object(I.a)(e.carts),[{product:n,quantity:r}]),m=u.reduce(function(e,t){var a=t.quantity,n=t.product.price,r=e.totalPrice,c=e.totalAmount;return{totalPrice:r+parseInt(a)*n,totalAmount:parseInt(a)+c}},{totalPrice:0,totalAmount:0});return Object(j.a)({},e,{carts:u,totalPrice:m.totalPrice,totalAmount:m.totalAmount});case"REMOVE_CART":var d=e.totalPrice,p=e.carts,g=e.totalAmount,h=p.find(function(e){return e.product._id===t.payload}),E=d-parseInt(h.quantity)*parseInt(h.product.price),f=g-parseInt(h.quantity);return Object(j.a)({},e,{carts:e.carts.filter(function(e){return!Object.is(e.product._id,t.payload)}),totalPrice:E,totalAmount:f});default:return e}}}),w=[R.a],G=Object(P.e)(A,{},Object(P.d)(P.a.apply(void 0,w),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),k=function(){G.dispatch({type:"GET_PRODUCTS_REQUESTING",payload:null}),_.a.get("".concat(C,"/products")).then(function(e){var t=e.data;G.dispatch({type:"GET_PRODUCTS",payload:t.data})}).catch(function(e){return console.log({err:e})})},F=function(e,t,a,n,r,c){G.dispatch({type:"ADD_PRODUCT_REQUESTING",payload:null});var l="".concat(C,"/products"),o=new FormData;o.append("image",r);var s=JSON.stringify({title:e,description:t,price:a,categoryID:n});o.append("data",s);_.a.post(l,o,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data;G.dispatch({type:"ADD_PRODUCT",payload:t.data}),G.dispatch({type:"ADD_PRODUCT_DONE",payload:null}),c.push("/dashboard/products")}).catch(function(e){G.dispatch({type:"ADD_PRODUCT_DONE",payload:null}),console.log({err:e})})},x=function(e){G.dispatch({type:"REMOVE_PRODUCT_REQUESTING",payload:{productID:e}});var t="".concat(C,"/products/").concat(e);_.a.delete(t).then(function(e){var t=e.data.data._id;G.dispatch({type:"REMOVE_PRODUCT",payload:{productID:t}}),G.dispatch({type:"REMOVE_PRODUCT_DONE",payload:null})}).catch(function(e){G.dispatch({type:"REMOVE_PRODUCT_DONE",payload:null}),console.log({err:e.message})})},q=function(e,t){G.dispatch({type:"GET_INFO_PRODUCT_REQUESTING",payload:{productID:e}});var a="".concat(C,"/products/").concat(e);_.a.get(a).then(function(e){var t=e.data.data;G.dispatch({type:"GET_INFO_PRODUCT",payload:{product:t}}),G.dispatch({type:"GET_INFO_PRODUCT_DONE",payload:null})}).catch(function(e){G.dispatch({type:"GET_INFO_PRODUCT_DONE",payload:null}),console.log({err:e.message})})},L=function(e,t,a,n,r,c,l){G.dispatch({type:"UPDATE_PRODUCT_REQUESTING",payload:null});var o="".concat(C,"/products/").concat(e),s=new FormData;s.append("image",c);var i=JSON.stringify({title:t,description:a,price:n,categoryID:r});s.append("data",i);_.a.put(o,s,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data.data;G.dispatch({type:"UPDATE_PRODUCT",payload:{product:t}}),G.dispatch({type:"UPDATE_PRODUCT_DONE",payload:null}),l.goBack()}).catch(function(e){G.dispatch({type:"UPDATE_PRODUCT_DONE",payload:null}),console.log({err:e})})},V=function(){G.dispatch({type:"GET_CATEGORIES_REQUESTING",payload:null}),_.a.get("".concat(C,"/categories")).then(function(e){var t=e.data;G.dispatch({type:"GET_CATEGORIES",payload:t.data})}).catch(function(e){return console.log({err:e})})},M=function(e,t,a){G.dispatch({type:"ADD_CATEGORY_REQUESTING",payload:null}),_.a.post("".concat(C,"/categories"),{title:e,description:t}).then(function(e){var t=e.data;G.dispatch({type:"ADD_CATEGORY",payload:t.data}),G.dispatch({type:"ADD_CATEGORY_DONE",payload:null}),a.push("/dashboard/categories")}).catch(function(e){G.dispatch({type:"ADD_CATEGORY_DONE",payload:null}),console.log({err:e})})},Y=function(e){G.dispatch({type:"REMOVE_CATEGORY_REQUESTING",payload:{categoryID:e}});var t="".concat(C,"/categories/").concat(e);_.a.delete(t).then(function(e){var t=e.data.data._id;G.dispatch({type:"REMOVE_CATEGORY",payload:{categoryID:t}}),G.dispatch({type:"REMOVE_CATEGORY_DONE",payload:null})}).catch(function(e){G.dispatch({type:"REMOVE_CATEGORY_DONE",payload:null}),console.log({err:e.message})})},Q=function(e,t){G.dispatch({type:"GET_INFO_CATEGORY_REQUESTING",payload:{categoryID:e}});var a="".concat(C,"/categories/").concat(e);_.a.get(a).then(function(e){var t=e.data.data;G.dispatch({type:"GET_INFO_CATEGORY",payload:{category:t}}),G.dispatch({type:"GET_INFO_CATEGORY_DONE",payload:null})}).catch(function(e){G.dispatch({type:"GET_INFO_CATEGORY_DONE",payload:null}),console.log({err:e.message})})},K=function(e,t,a,n){G.dispatch({type:"UPDATE_CATEGORY_REQUESTING",payload:null});var r="".concat(C,"/categories/").concat(e);_.a.put(r,{title:t,description:a}).then(function(e){var t=e.data.data;G.dispatch({type:"UPDATE_CATEGORY",payload:{category:t}}),G.dispatch({type:"UPDATE_CATEGORY_DONE",payload:null}),n.goBack()}).catch(function(e){G.dispatch({type:"UPDATE_CATEGORY_DONE",payload:null}),console.log({err:e})})},H=a(11),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={quantity:1},a._handleChange=function(e){var t=e.target,n=t.name,r=t.value;r<1||a.setState(Object(H.a)({},n,r))},a._handleSubmitAddToCart=function(e){e.preventDefault();var t=a.state.quantity,n=a.props,r=n.product,c=n.addCart;console.log({quantity:t,product:r}),c(r,t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product,a=this.state.quantity;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card mb-5",style:{width:"16rem",margin:"0 12px"}},r.a.createElement("img",{src:t.image?"".concat(C,"/images/products/").concat(t.image):"https://via.placeholder.com/100",alt:"",className:"card-img-top"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},t.title&&t.title),r.a.createElement("p",{className:"card-description",style:{webkitBoxOrient:"vertical"}},t.description&&t.description),r.a.createElement("b",{className:"card-text d-block mb-3"},t.price&&f(t.price)),r.a.createElement("div",{className:"d-flex"},r.a.createElement("button",{className:"btn btn-success",onClick:function(t){return e._handleSubmitAddToCart(t)}},"Add to Cart"),r.a.createElement("input",{className:"form-control ml-3",type:"number",name:"quantity",value:a,style:{width:"40%"},onChange:function(t){return e._handleChange(t)}})))))}}]),t}(n.Component),J=Object(O.b)(null,{addCart:function(e,t){return function(a){setTimeout(function(){return a({type:"ADD_CART",payload:{product:e,quantity:t}})})}}})(B),W=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},e.title,r.a.createElement("span",{className:"badge badge-success badge-pill"},e.products.length)))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={totalRecords:"",pageLimit:"",totalPages:"",currentPage:"",initialPage:"",pagesToShow:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.totalRecords,a=e.pageLimit,n=e.initialPage,r=e.pagesToShow;this.setState({totalRecords:t,pageLimit:a||10,totalPages:Math.ceil(t/a),pagesToShow:r||5,currentPage:n||1})}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.totalRecords,r=a.pageLimit,c=a.currentPage;n===t.totalRecords&&r===t.pageLimit||this.setPage(c)}},{key:"setPage",value:function(e){var t=this.state,a=t.totalRecords,n=t.pageLimit,r=t.totalPages,c=this.props.onChangePage;e<1?e=1:e>r&&(e=r),this.setState({currentPage:e});var l=(e-1)*n;c({pageLimit:n,totalPages:r,page:e,startIndex:l,endIndex:Math.min(l+n-1,a-1)})}},{key:"getPager",value:function(){var e,t=this.state,a=t.pagesToShow,n=t.currentPage,r=t.totalPages,c=[];r<=a?(e=1,a=r):e=n<=Math.ceil(a/2)?1:n+Math.floor((a-1)/2)>=r?r-(a-1):n-Math.floor(a/2);for(var l=1;l<=a;l++)c.push(e++);return{currentPage:n,totalPages:r,pages:c}}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalRecords,c=t.totalPages;if(!a||1===c)return null;var l=this.getPager();return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:1===l.currentPage?"page-item disabled":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(l.currentPage-1)}},"Prev")),l.pages.map(function(t,a){return r.a.createElement("li",{key:a,className:l.currentPage===t?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(t)}},t))}),r.a.createElement("li",{className:l.currentPage===l.totalPages?"page-item disabled":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return e.setPage(l.currentPage+1)}},"Next"))))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={sort:""},a._handleChangeSort=function(e){var t=a.props._handleChangeSortProduct;a.setState({sort:e.target.value}),t(e.target.value)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.sort;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-md-4 ml-auto mb-4"},r.a.createElement("select",{className:"form-control",name:"sort",onChange:function(t){return e._handleChangeSort(t)},value:t,style:{cursor:"pointer"}},r.a.createElement("option",{value:""},"Default sorting"),r.a.createElement("option",{value:"lowest"},"Low to Hight"),r.a.createElement("option",{value:"highest"},"Hight to Low"))))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={textKey:""},a._handleFilter=function(e){var t=a.props._handleFilterProduct;a.setState({textKey:e.target.value}),t(e.target.value)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.textKey;return r.a.createElement(n.Fragment,null,r.a.createElement("input",{className:"form-control",type:"text",name:"textKey",value:t,onChange:function(t){return e._handleFilter(t)},placeholder:"Enter product name"}))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={startIndex:"",endIndex:"",totalRecords:"",totalPages:"",pageLimit:12,currentPage:"",listProduct:null},a.componentDidMount=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:k(),V();case 2:case"end":return e.stop()}},e)})),a.showProducts=function(e){var t=null;return e.length>0&&(t=e.map(function(e,t){return r.a.createElement(J,{product:e,key:t})})),t},a.onChangePage=function(e){a.setState({totalPages:e.totalPages,currentPage:e.page,startIndex:e.startIndex,endIndex:e.endIndex})},a._handleChangeSortProduct=function(e){var t=a.state.listProduct;switch(e){case"lowest":var n=t.sort(function(e,t){return e.price-t.price});return a.setState({listProduct:n});case"highest":var r=t.sort(function(e,t){return t.price-e.price});return a.setState({listProduct:r});default:return t}},a._handleFilterProduct=function(e){var t=a.state.listProduct,n=new RegExp(e,"ig"),r=t.filter(function(e){return-1!==e.title.search(n)});a.setState({listProduct:r})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.listProduct,n=this.props.products.listProduct;n&&n!==a&&this.setState({listProduct:n})}},{key:"render",value:function(){var e=this.props.categories.listCategories,t=this.state,a=t.startIndex,c=t.endIndex,l=t.pageLimit,o=t.listProduct,s=t.sort,i=[];return o&&o.length>0&&(i=o.slice(a,c+1)),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid mt-4 mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"sibar-categories"},r.a.createElement($,{_handleFilterProduct:this._handleFilterProduct}),r.a.createElement("h3",{className:"categories-title mt-3"},r.a.createElement(d.b,{to:"/dashboard/categories"},"Categories")),r.a.createElement("ul",{className:"list-group"},e.length>0&&e.map(function(e,t){return r.a.createElement(W,{item:e,key:t})})))),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"row"},r.a.createElement(z,{sort:s,_handleChangeSortProduct:this._handleChangeSortProduct})),r.a.createElement("div",{className:"row"},o&&o.length>0&&this.showProducts(i)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},o&&o.length>0?r.a.createElement(X,{totalRecords:o.length,pageLimit:l||10,initialPage:1,pagesToShow:5,onChangePage:this.onChangePage}):""))))))}}]),t}(n.Component),ee=Object(O.b)(function(e){return{products:e.products,categories:e.categories}},null)(Z),te=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{className:"nav"},r.a.createElement("span",{className:"nav-link"},r.a.createElement(d.b,{to:"/dashboard/my-account"},"My account")),r.a.createElement("span",{className:"nav-link"},r.a.createElement(d.b,{to:"/dashboard/products"},"Products")),r.a.createElement("span",{className:"nav-link"},r.a.createElement(d.b,{to:"/dashboard/categories"},"Categories"))))}}]),t}(n.Component),ae=function(e,t,a,n,r,c){G.dispatch({type:"REGISTER_REQUESTING",payload:null});var l="".concat(C,"/users"),o=new FormData;o.append("image",r);var s=JSON.stringify({fullname:e,email:t,password:a,age:n});o.append("data",s);_.a.post(l,o,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data;t.error?setTimeout(function(){G.dispatch({type:"REGISTER_ERROR",payload:{message:t.message}})},1500):t.error||(G.dispatch({type:"REGISTER",payload:t.data}),G.dispatch({type:"REGISTER_DONE",payload:null}),c.goBack(),console.log({history:c}))}).catch(function(e){G.dispatch({type:"REGISTER_DONE",payload:null}),console.log({err:e})})},ne=function(){setTimeout(function(){localStorage.removeItem("token"),G.dispatch({type:"CLEAR_TOKEN",payload:null})},1500)},re=function(e,t,a,n,r,c){G.dispatch({type:"UPDATE_USER_REQUESTING",payload:null});var l="".concat(C,"/users/").concat(e),o=new FormData;o.append("image",c);var s=JSON.stringify({fullname:t,email:a,password:n,age:r});o.append("data",s);_.a.put(l,o,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data;console.log({respt:t});var a=t.data;G.dispatch({type:"UPDATE_USER",payload:{user:a}}),G.dispatch({type:"UPDATE_USER_DONE",payload:null})}).catch(function(e){G.dispatch({type:"UPDATE_USER_DONE",payload:null}),console.log({err:e})})},ce=(a(74),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a._handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a._handleSubmitLogin=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,c=a.props;(0,c.loginRequest)({email:n,password:r,history:c.history})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,c=t.password,l=this.props.users,o=l.submittingLogin,s=l.messageError;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12 mb-5"},r.a.createElement("h2",{className:"mt-5 mb-4"},"Login"),s&&r.a.createElement("p",{className:"alert alert-danger pt-2 pb-2",role:"alert"},Object.is(s,"EMAIL_NOT_EXIST")&&"Email is existence",Object.is(s,"PASSWORD_NOT_MATCHING")&&"Password not matching",Object.is(s,"ERR_HTTP_HEADERS_SENT")&&"Cannot conntect to sever"),r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"email"},"Email",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"email",type:"email",value:a,onChange:function(t){return e._handleChange(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"password"},"Password",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"password",type:"text",value:c,onChange:function(t){return e._handleChange(t)}})),r.a.createElement("div",{className:"form-group pt-3"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary ",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitLogin(t)}},"Login",o?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):"")))),r.a.createElement(d.b,{to:"/users"},"Register")," for a new account."))))}}]),t}(n.Component)),le=Object(O.b)(function(e){return{users:e.users}},{loginRequest:function(e){var t=e.email,a=e.password,n=e.history;return function(e){return e({type:"LOGIN_REQUEST",payload:null}),_.a.post("".concat(C,"/login"),{email:t,password:a}).then(function(t){var a=t.data;a.error?e({type:"LOGIN_ERROR",payload:{message:a.message}}):a.error||(localStorage.setItem("token",a.data.token),e({type:"LOGIN_SUCCESSED",payload:{token:a.data.token,isUser:a.data.infoUser}}),n.push("/"))}).catch(function(t){e({type:"LOGIN_ERROR",payload:{message:t.message}})})}}})(ce),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={fullname:"",email:"",password:"",age:"",image:null},a._handleChangeValue=function(e){var t=e.target,n=t.name,r=t.value;r<1||a.setState(Object(H.a)({},n,r))},a._handleChangeFile=function(e){a.setState({image:e.target.files[0]})},a._handleSubmitRegister=function(e){e.preventDefault();var t=a.state,n=t.fullname,r=t.email,c=t.password,l=t.age,o=t.image,s=a.props.history;ae(n,r,c,l,o,s)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,c=t.email,l=t.password,o=t.age,s=this.props.users,i=s.requestingRegister,u=s.messageError;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},r.a.createElement("h2",{className:"mt-5 mb-4"},"Register"),u&&r.a.createElement("p",{className:"alert alert-danger pt-2 pb-2",role:"alert"},Object.is(u,"FULLNAME_EMAIL_IS_REQUIRED")&&"Please enter Fullname and Email",Object.is(u,"EMAIL_IS_EXIST")&&"Email is existence"),r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"fullname"},"Fullname",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"fullname",type:"text",value:a,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"email"},"Email",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"email",type:"text",value:c,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"password"},"Password",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"password",type:"text",value:l,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label ",htmlFor:"age"},"Age"),r.a.createElement("input",{className:"form-control",name:"age",type:"number",value:o,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label ",htmlFor:"avatar"},"Avatar"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{name:"image",type:"file",onChange:function(t){return e._handleChangeFile(t)}})))),r.a.createElement("div",{className:"form-group pt-3 mb-5"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitRegister(t)}},"Register",i?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""))))))))}}]),t}(n.Component),se=Object(O.b)(function(e){return{users:e.users}},null)(oe),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e)))._handleChangeValue=function(e){var t=e.target,n=t.name,r=t.value;r<1||a.setState(Object(H.a)({},n,r))},a._handleChangeFile=function(e){a.setState({image:e.target.files[0],nameImage:e.target.files[0].name})},a._handleSubmitUpdate=function(e){e.preventDefault();var t=a.state,n=t.userID,r=t.fullname,c=t.email,l=t.password,o=t.age,s=t.image;re(n,r,c,l,o,s)},a.state={fullname:"",email:"",password:"",age:"",image:null,userID:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.userID,n=this.props.isUser;if(n&&a!==n._id){var r=n.fullname,c=n.email,l=n.password,o=n.age,s=n.image,i=n._id;this.setState({fullname:r,email:c,password:l,age:o,userID:i,nameImage:s})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.fullname,c=t.email,l=t.age,o=t.nameImage,s=this.props.users.updatingInfo;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"fullname"},"Fullname",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"fullname",type:"text",value:a,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"email"},"Email",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"email",type:"text",value:c,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label ",htmlFor:"age"},"Age"),r.a.createElement("input",{className:"form-control",name:"age",type:"number",value:l,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label ",htmlFor:"avatar"},"Avatar"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{name:"image",type:"file",onChange:function(t){return e._handleChangeFile(t)}})),r.a.createElement("div",{className:"col-md-6 d-flex"},r.a.createElement("img",{className:"ml-auto rounded-circle",src:o&&o.length>0?"".concat(C,"/images/users/").concat(o):"https://via.placeholder.com/150",alt:"",width:150})))),r.a.createElement("div",{className:"form-group pt-3 mb-5"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitUpdate(t)}},"Update",s?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):"")))))))}}]),t}(n.Component),ue=Object(O.b)(function(e){return{users:e.users}},null)(ie),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isUser:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.isUser,n=this.props.users.isUser;n&&n!==a&&this.setState({isUser:n})}},{key:"render",value:function(){var e=this.state.isUser;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",{className:"mb-3"},"My Account"),r.a.createElement(ue,{isUser:e})))}}]),t}(n.Component),de=Object(O.b)(function(e){return{users:e.users}},null)(me),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e)))._handleRemove=function(e){e.preventDefault();var t=a.props,n=t.product._id;(0,t._handlecRemoveProduct)(n)},a._handleUpdate=function(e){e.preventDefault();var t=a.props,n=t.product._id;(0,t._handleGetInfoPrepareUpdate)(n)},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.product,c=t.index,l=t.listCategories,o=t.requestingRemoveProduct,s=l.find(function(e){return Object.is(e._id,a.categoryID)});return r.a.createElement(n.Fragment,null,r.a.createElement("tr",{key:c},r.a.createElement("th",{scope:"row"},c+1),r.a.createElement("td",null,a.title&&a.title),r.a.createElement("td",{style:{maxWidth:"600px"}},a.description&&a.description),r.a.createElement("td",null,a.price&&f(a.price)),r.a.createElement("td",null,s&&s.title),r.a.createElement("td",null,r.a.createElement("img",{src:a.image?"".concat(C,"/images/products/").concat(a.image):"https://via.placeholder.com/100",alt:"",style:{width:100}})),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e._handleRemove(t)}},"Remove",o&&a._id===o?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""),r.a.createElement("button",{type:"button",className:"btn ml-3",style:{padding:0},onClick:function(t){return e._handleUpdate(t)}},r.a.createElement(d.b,{to:"/dashboard/products/create",className:"btn btn-info"},"Detail")))))}}]),t}(n.Component),ge=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={textKey:"",sort:""},a._handleFilter=function(e){var t=a.props._handleFilterProduct;a.setState({textKey:e.target.value}),t(e.target.value)},a._handleChangeSort=function(e){var t=a.props._handleChangeSortProduct;a.setState({sort:e.target.value}),t(e.target.value)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.textKey,c=t.sort;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{className:"form-control",type:"text",name:"textKey",value:a,onChange:function(t){return e._handleFilter(t)},placeholder:"Enter product name"})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("select",{className:"form-control",name:"sort",onChange:function(t){return e._handleChangeSort(t)},value:c,style:{cursor:"pointer"}},r.a.createElement("option",{value:""},"Default sorting"),r.a.createElement("option",{value:"lowest"},"Low to Hight"),r.a.createElement("option",{value:"highest"},"Hight to Low")))))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={startIndex:"",endIndex:"",totalRecords:"",totalPages:"",pageLimit:6,currentPage:"",listProduct:null},a.componentDidMount=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:k();case 1:case"end":return e.stop()}},e)})),a._handlecRemoveProduct=function(e){x(e)},a._handleGetInfoPrepareUpdate=function(e){q(e)},a.showProducts=function(e){var t=a.props.products,n=t.listCategories,c=t.requestingRemoveProduct,l=t.requestingGetInfoProduct,o=null;return e.length>0&&(o=e.map(function(e,t){return r.a.createElement(pe,{product:e,key:t,index:t,listCategories:n,_handlecRemoveProduct:a._handlecRemoveProduct,requestingRemoveProduct:c,_handleGetInfoPrepareUpdate:a._handleGetInfoPrepareUpdate,requestingGetInfoProduct:l})})),o},a.onChangePage=function(e){a.setState({totalPages:e.totalPages,currentPage:e.page,startIndex:e.startIndex,endIndex:e.endIndex})},a._handleFilterProduct=function(e){var t=a.state.listProduct,n=new RegExp(e,"ig"),r=t.filter(function(e){return-1!==e.title.search(n)});a.setState({listProduct:r})},a._handleChangeSortProduct=function(e){var t=a.state.listProduct;switch(e){case"lowest":var n=t.sort(function(e,t){return e.price-t.price});return a.setState({listProduct:n});case"highest":var r=t.sort(function(e,t){return t.price-e.price});return a.setState({listProduct:r});default:return t}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.listProduct,n=this.props.products.listProduct;n&&n!==a&&this.setState({listProduct:n})}},{key:"render",value:function(){var e=this.state,t=e.startIndex,a=e.endIndex,c=e.pageLimit,l=e.currentPage,o=e.totalPages,s=e.listProduct,i=e.sort,u=[];return s&&s.length>0&&(u=s.slice(t,a+1)),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",null,"Products"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(d.b,{to:"/dashboard/products/create",className:"btn btn-primary mb-3"},"New")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(ge,{_handleFilterProduct:this._handleFilterProduct,sort:i,_handleChangeSortProduct:this._handleChangeSortProduct}))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Category"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,s&&s.length>0&&this.showProducts(u))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 box_pagination_info text-right"},r.a.createElement("p",null,s&&s.length>0&&s.length," results | page ",l,"/",o)),r.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},s&&s.length>0?r.a.createElement(X,{totalRecords:s.length,pageLimit:c||10,initialPage:1,pagesToShow:5,onChangePage:this.onChangePage}):""))))}}]),t}(n.Component),Ee=Object(O.b)(function(e){return{products:e.products}},null)(he),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e)))._handleRemove=function(e){e.preventDefault();var t=a.props,n=t.category._id,r=t._handleRemoveCategory;console.log(n),r(n)},a._handleUpdate=function(e){e.preventDefault();var t=a.props,n=t.category._id;(0,t._handleGetInfoPrepareUpdate)(n)},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.category,c=t.index,l=t.requestingRemoveCategory,o=a.products.map(function(e){return e.title});return r.a.createElement(n.Fragment,null,r.a.createElement("tr",{key:c},r.a.createElement("th",{scope:"row"},c+1),r.a.createElement("td",null,a.title),r.a.createElement("td",null,a.description),r.a.createElement("td",null,o.join(", ")),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e._handleRemove(t)}},"Remove",l&&a._id===l?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""),r.a.createElement("button",{type:"button",className:"btn ml-3",style:{padding:0},onClick:function(t){return e._handleUpdate(t)}},r.a.createElement(d.b,{to:"/dashboard/categories/create",className:"btn btn-info"},"Detail")))))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:V();case 1:case"end":return e.stop()}},e)})),a._handleRemoveCategory=function(e){Y(e)},a._handleGetInfoPrepareUpdate=function(e){Q(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.categories,a=t.listCategories,c=t.requestingRemoveCategory,l=t.requestingGetInfoCategory;return console.log({_:a}),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",null,"Categories"),r.a.createElement(d.b,{to:"/dashboard/categories/create",className:"btn btn-primary mb-3"},"New"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Products"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,a&&a.length>0&&a.map(function(t,a){return r.a.createElement(fe,{category:t,key:a,index:a,_handleRemoveCategory:e._handleRemoveCategory,requestingRemoveCategory:c,_handleGetInfoPrepareUpdate:e._handleGetInfoPrepareUpdate,requestingGetInfoCategory:l})})))))}}]),t}(n.Component),ve=Object(O.b)(function(e){return{categories:e.categories}},null)(be),ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",isUpdate:!1},a._handleChangeValue=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r)),console.log({e:e.target.value})},a._handleSubmitAdd=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description,c=a.props.history;console.log({history:c}),M(n,r,c)},a._handleSubmitUpdate=function(e){e.preventDefault();var t=a.props.history,n=a.state,r=n.title,c=n.description,l=n.categoryID;K(l,r,c,t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.categoryID,n=this.props.categories.infoCategoryPrepareUpdate;if(n&&a!==n._id){var r=n.title,c=n.description,l=n._id;this.setState({title:r,description:c,isUpdate:!0,categoryID:l})}}},{key:"render",value:function(){var e=this,t=this.props.categories,a=t.requestingAddCategory,c=t.updatingInfo,l=this.state,o=l.title,s=l.description,i=l.isUpdate;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",null,"Categories"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"title"},"Title",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"title",type:"text",value:o,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"description"},"Description",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("textarea",{className:"form-control",cols:40,name:"description",rows:10,value:s||"",onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,i?r.a.createElement("button",{className:"btn btn-primary ",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitUpdate(t)}},"Update",c?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""):r.a.createElement("button",{className:"btn btn-primary ",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitAdd(t)}},"Add",a?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""))))))))}}]),t}(n.Component),Oe=Object(O.b)(function(e){return{categories:e.categories}},null)(ye),Ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",price:"",categoryID:"",image:null,isUpdate:!1,productID:"",nameImage:""},a._handleChangeValue=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(H.a)({},n,r))},a._handleChangeFile=function(e){a.setState({image:e.target.files[0],nameImage:e.target.files[0].name})},a._handleSubmitAdd=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description,c=t.price,l=t.image,o=t.categoryID,s=a.props.history;F(n,r,c,o,l,s)},a._handleSubmitUpdate=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description,c=t.price,l=t.categoryID,o=t.productID,s=t.image,i=a.props.history;L(o,n,r,c,l,s,i)},a.componentDidMount=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:V();case 1:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.productID,n=this.props.products.infoProductPrepareUpdate;if(n&&a!==n._id){var r=n.title,c=n.description,l=n.price,o=n.categoryID,s=n.image,i=n._id;this.setState({title:r,description:c,price:l,categoryID:o,isUpdate:!0,productID:i,nameImage:s})}}},{key:"render",value:function(){var e=this,t=this.props.categories.listCategories,a=this.state,c=a.title,l=a.description,o=a.price,s=a.isUpdate,i=a.nameImage,u=this.props.products,m=u.requestingAddProduct,d=u.updatingInfo;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h2",null,"Products"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},r.a.createElement("form",{method:"post"},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"title"},"Title",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"title",type:"text",value:c,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"description"},"Description",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("textarea",{className:"form-control",cols:40,name:"description",rows:10,value:l||"",onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"price"},"Price",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("input",{className:"form-control",name:"price",type:"number",value:o,onChange:function(t){return e._handleChangeValue(t)}})),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label requiredField",htmlFor:"category"},"Category",r.a.createElement("span",{className:"asteriskField"},"*")),r.a.createElement("select",{className:"select form-control",name:"categoryID",onChange:function(t){return e._handleChangeValue(t)}},r.a.createElement("option",{value:"default",key:"default"},"Uncategorized"),t&&t.map(function(e,t){return r.a.createElement("option",{value:e._id,key:t},e.title)}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{className:"control-label ",htmlFor:"image"},"Image"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{name:"image",type:"file",onChange:function(t){return e._handleChangeFile(t)}})),r.a.createElement("div",{className:"col-md-6 d-flex"},r.a.createElement("img",{className:"ml-auto",src:s&&i&&i.length>0?"".concat(C,"/images/products/").concat(i):"https://via.placeholder.com/150",alt:"",width:150})))),r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("div",null,s?r.a.createElement("button",{className:"btn btn-primary ",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitUpdate(t)}},"Update",d?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""):r.a.createElement("button",{className:"btn btn-primary ",name:"submit",type:"submit",onClick:function(t){return e._handleSubmitAdd(t)}},"Add",m?r.a.createElement("span",{className:"spinner-border spinner-border-sm ml-2",role:"status","aria-hidden":"true"}):""))))))))}}]),t}(n.Component),_e=Object(O.b)(function(e){return{products:e.products,categories:e.categories}},null)(Ne),Ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._handleLogout=function(){ne()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isUser;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"user-menu"},r.a.createElement("img",{className:"rounded-circle",src:t.image?"".concat(C,"/images/users/").concat(t.image):"https://via.placeholder.com/100",alt:"",width:50}),r.a.createElement("div",{className:"card",style:{width:"18rem"}},r.a.createElement("div",{className:"card-user"},r.a.createElement("div",{className:"card-user-img"},r.a.createElement("img",{className:"rounded-circle",src:t.image?"".concat(C,"/images/users/").concat(t.image):"https://via.placeholder.com/100",alt:"",width:50})),r.a.createElement("div",{className:"card-user-info"},r.a.createElement("p",{className:"card-user-info-title"},t.fullname),r.a.createElement("p",{className:"card-user-info-email"},t.email))),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item list-group-item-action",style:{borderWidth:"0",borderRadius:"0",padding:"0"}},r.a.createElement(d.b,{to:"/dashboard/my-account",style:{padding:".75rem 1.25rem",display:"block"}},r.a.createElement("i",{className:"fa fa-user-circle"}),"Profile")),r.a.createElement("li",{className:"list-group-item list-group-item-action",onClick:function(){return e._handleLogout()},style:{borderWidth:"0"}},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")))))}}]),t}(n.Component),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))))._handleRemoveItem=function(e){e.preventDefault();var t=a.props,n=t.item.product._id;(0,t.removeCart)(n)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"list-group-item d-flex"},r.a.createElement("img",{className:"rounded mr-2",src:t.product.image?"".concat(C,"/images/products/").concat(t.product.image):"https://via.placeholder.com/100",alt:"",width:100}),r.a.createElement("p",{className:"d-inline font-weight-bold"},t.product&&t.product.title," "),r.a.createElement("span",{className:"ml-1"}," | ",t.product.price&&f(t.product.price)),r.a.createElement("strong",{className:"ml-1"},"x ",t.quantity),r.a.createElement("button",{className:"btn btn-danger ml-auto align-self-start rounded-circle",style:{padding:".3rem .75rem"},onClick:function(t){return e._handleRemoveItem(t)}},"x")))}}]),t}(n.Component),Re=Object(O.b)(null,{removeCart:function(e){return function(t){return t({type:"REMOVE_CART",payload:e})}}})(Pe),je=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.carts,t=e.carts,a=e.totalPrice,c=e.totalAmount;return console.log({carts:t,totalPrice:a}),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"cart-menu"},r.a.createElement("i",{className:"fa fa-opencart"}),r.a.createElement("span",null,t.length),r.a.createElement("ul",{className:"list-group"},t.length>0?t.map(function(e,t){return r.a.createElement(Re,{item:e,key:t})}):r.a.createElement("li",{className:"list-group-item"},"No products in the Cart."),r.a.createElement("li",{className:"list-group-item d-flex active"},r.a.createElement("span",null,r.a.createElement("b",null,"Total Price:")," ",f(a)),r.a.createElement("span",{className:"d-inline ml-auto"},r.a.createElement("b",null,"Total Amount:")," ","".concat(c,c?" items":" item"))))))}}]),t}(n.Component),De=Object(O.b)(function(e){return{carts:e.carts}},null)(je),Ie=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.users;return console.log({users:e}),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(d.b,{className:"navbar-brand",to:"/"},"MernStack"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav w-100 align-items-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{className:"nav-link",to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item ml-auto d-flex align-items-center"},e.isUser?r.a.createElement(De,null):"",e.isUser?r.a.createElement(Ce,{isUser:e.isUser}):r.a.createElement(d.b,{className:"btn btn-outline-success",to:"/login",style:{margin:".5rem 0"}},"Login"))))),r.a.createElement(E,{exact:!0,path:"/",component:ee}),r.a.createElement(E,{path:"/login",component:le}),r.a.createElement(E,{path:"/users",component:se}),r.a.createElement(h,{path:"/dashboard",component:te}),r.a.createElement(h,{path:"/dashboard/my-account",component:de}),r.a.createElement(h,{exact:!0,path:"/dashboard/products",component:Ee}),r.a.createElement(h,{exact:!0,path:"/dashboard/categories",component:ve}),r.a.createElement(h,{path:"/dashboard/categories/create",component:Oe}),r.a.createElement(h,{path:"/dashboard/products/create",component:_e})))}}]),t}(n.Component),Te=Object(O.b)(function(e){return{users:e.users}},null)(Ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=localStorage.getItem("token");if(!e)return G.dispatch({type:"CLEAR_TOKEN",payload:null});_.a.get("".concat(C,"/refresh-token/").concat(e)).then(function(e){var t=e.data;return G.dispatch({type:"LOGIN_SUCCESSED",payload:{token:t.data.token,isUser:t.data.infoUser}})}).catch(function(e){return console.log({err:e.message})})}(),l.a.render(r.a.createElement(O.a,{store:G},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.f6d16d6d.chunk.js.map